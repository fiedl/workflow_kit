<h1>WorkflowKit Demo App</h1>
<p>
  This test app demonstrates the <strong>ruby on rails gem <a href="http://github.com/fiedl/workflow_kit">workflow_kit</a></strong>.
</p>
<p>
  The <a href="ttps://github.com/fiedl/workflow_kit/tree/master/test_app">sourcecode of this demo app can be found here on github</a>. In particular, the <a href="https://github.com/fiedl/workflow_kit/tree/master/test_app/app/models/workflow_kit">workflow bricks are defined here</a>. 
</p>
<p>You might start <i>executing</i> a workflow. Notice how this workflow adds some log messages below. Next, you could <i>edit</i> a workflow and see how that works.</p>
<p>Please note, this gem is still in an <strong>alpha state</strong> and not ready for use in production, yet.</p>

<h2>Workflows</h2>

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @workflows.each do |workflow| %>
  <tr>
    <td><strong><%= workflow.name %></strong></td>
    <td><%= workflow.description %></td>
    <td><%= link_to 'Show', workflow %></td>
    <td><%= link_to 'Edit', edit_workflow_path(workflow) %></td>
    <!--td><%= link_to 'Destroy', workflow, method: :delete, data: { confirm: 'Are you sure?' } %></td-->
    <td><%= link_to 'Execute', execute_workflow_path( workflow ), method: :put %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Workflow', new_workflow_path %>

<br /><br />

<h2>Logged Messages</h2>
<div id="messages">
  <ul>
    <% for message in Message.order( "created_at desc" ).limit( 10 ) %>
      <li>
	<span class="datetime"><%=h message.created_at %></span>
	<span class="text"><%=h message.text %></span>
      </li>
    <% end %>
  </ul>
</div>
